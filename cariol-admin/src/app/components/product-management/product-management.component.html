<div class="product-management-container">
  <h2>QUẢN LÝ SẢN PHẨM</h2>

  <!-- Nút Thêm sản phẩm mới -->
  <button class="new-post" (click)="addProduct()">+ Sản phẩm mới</button>

  <!-- Tìm kiếm sản phẩm -->
  <div class="search-container">
    <input [(ngModel)]="searchQuery" type="text" placeholder="Tìm kiếm sản phẩm theo tên" (input)="onSearch()">
    <select [(ngModel)]="categoryFilter" (change)="onSearch()">
      <option value="all">Tất cả phân loại</option>
      <option *ngFor="let category of categories" [value]="category">{{ category }}</option>
    </select>
  </div>

  <!-- Bảng danh sách sản phẩm -->
  <table>
    <thead>
      <tr>
        <th>ID</th>
        <th>Tên sản phẩm</th>
        <th>Số lượng</th>
        <th>Đơn giá</th>
        <th>Màu sắc</th>
        <th>Phân loại</th>
        <th>Mô tả</th>
        <th>Hình ảnh</th>
        <th>Hành động</th>
      </tr>
    </thead>
    <tbody>
      <tr *ngFor="let product of products">
        <td>{{ product._id }}</td>
        <td>{{ product.name }}</td>
        <td>{{ product.amount }}</td>
        <td>{{ product.price | currency:'VND':' ' }}</td>
        <td>{{ product.color }}</td>
        <td>{{ product.categoryName }}</td>
        <td>{{ product.description }}</td>
        <td>
          <!-- Hiển thị ảnh -->
          <img *ngIf="product.image" [src]="product.image" alt="Ảnh sản phẩm" width="50">
        </td>
        <td>
          <div class="modal-actions">
            <button class="edit-btn" (click)="editProduct(product)">
              <i class="fa-solid fa-pen"></i>
            </button>
            <button class="delete-btn" (click)="deleteProduct(product._id)">
              <i class="fa-solid fa-trash"></i>
            </button>
          </div>
        </td>
      </tr>
    </tbody>
  </table>
</div>
